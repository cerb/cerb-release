{
  "package": {
    "name": "Bot Interaction Template",
    "revision": 1,
    "requires": {
      "cerb_version": "9.2.0",
      "plugins": [

      ]
    },
    "library": {
      "name": "Chat interaction with worker",
      "uri": "cerb_bot_behavior_interaction_worker",
      "description": "A template for building worker-based chat bot interactions",
      "point": "behavior",
      "image": "data:image/png;base64,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"
    },
    "configure": {
      "placeholders": [

      ],
      "prompts": [
        {
          "type": "chooser",
          "label": "Bot",
          "key": "bot_id",
          "hidden": true,
          "params": {
            "context": "cerberusweb.contexts.bot",
            "single": true,
            "query": ""
          }
        }
      ]
    }
  },
  "behaviors": [
    {
      "uid": "behavior_convo",
      "_context": "behavior",
      "bot_id": "{{{bot_id}}}",
      "title": "Conversation: Example Interaction",
      "is_disabled": false,
      "is_private": true,
      "priority": 50,
      "event": {
        "key": "event.message.chat.worker",
        "label": "Conversation with worker"
      },
      "nodes": [
        {
          "type": "action",
          "title": "Hi!",
          "status": "live",
          "params": {
            "actions": [
              {
                "action": "send_message",
                "message": "Hello, {{worker_first_name}}!",
                "format": "",
                "delay_ms": "1000"
              },
              {
                "action": "send_message",
                "message": "You can customize this interaction to meet your needs.",
                "format": "",
                "delay_ms": "1000"
              }
            ]
          }
        },
        {
          "type": "action",
          "title": "Ok!",
          "status": "live",
          "params": {
            "actions": [
              {
                "action": "prompt_buttons",
                "options": "Thanks!",
                "color_from": "#4795f7",
                "color_mid": "#4795f7",
                "color_to": "#4795f7",
                "style": "",
                "var": "placeholder",
                "var_format": "{{message}}",
                "var_validate": ""
              }
            ]
          }
        },
        {
          "type": "action",
          "title": "Close chat window",
          "status": "live",
          "params": {
            "actions": [
              {
                "action": "window_close"
              }
            ]
          }
        }
      ]
    },
    {
      "uid": "behavior_get_interactions",
      "_context": "behavior",
      "bot_id": "{{{bot_id}}}",
      "title": "Get interactions for worker",
      "is_disabled": false,
      "is_private": false,
      "priority": 1,
      "event": {
        "key": "event.interactions.get.worker",
        "label": "Conversation get interactions for worker",
        "params": {
          "listen_points": "global"
        }
      },
      "nodes": [
        {
          "type": "switch",
          "title": "Interaction point:",
          "status": "live",
          "nodes": [
            {
              "type": "outcome",
              "title": "global",
              "status": "live",
              "params": {
                "groups": [
                  {
                    "any": 0,
                    "conditions": [
                      {
                        "condition": "point",
                        "oper": "is",
                        "value": "global"
                      }
                    ]
                  }
                ]
              },
              "nodes": [
                {
                  "type": "action",
                  "title": "Return interactions",
                  "status": "live",
                  "params": {
                    "actions": [
                      {
                        "action": "return_interaction",
                        "behavior_id": "{{{uid.behavior_handle_interaction}}}",
                        "name": "Example interaction",
                        "interaction": "example.interaction",
                        "interaction_params_json": ""
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "uid": "behavior_handle_interaction",
      "_context": "behavior",
      "bot_id": "{{{bot_id}}}",
      "title": "Handle interaction with worker",
      "is_disabled": false,
      "is_private": false,
      "priority": 2,
      "event": {
        "key": "event.interaction.chat.worker",
        "label": "Conversation handle interaction with worker"
      },
      "nodes": [
        {
          "type": "switch",
          "title": "Interaction:",
          "status": "live",
          "nodes": [
            {
              "type": "outcome",
              "title": "example.interaction",
              "status": "live",
              "params": {
                "groups": [
                  {
                    "any": 0,
                    "conditions": [
                      {
                        "condition": "interaction",
                        "oper": "is",
                        "value": "example.interaction"
                      }
                    ]
                  }
                ]
              },
              "nodes": [
                {
                  "type": "action",
                  "title": "Start conversation",
                  "status": "live",
                  "params": {
                    "actions": [
                      {
                        "action": "switch_behavior",
                        "return": "0",
                        "behavior_id": "{{{uid.behavior_convo}}}",
                        "var": "_behavior"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
{
    "name": "cerb.ticket.participants.manage",
    "description": "Display ticket participants with add and remove actions",
    "extension_id": "cerb.trigger.interaction.worker",
    "script": "inputs:\r\n  record/ticket:\r\n    record_type: ticket\r\n    required@bool: yes\r\n\r\nstart:\r\n  await:\r\n    form:\r\n      title: Edit Participants\r\n      elements:\r\n        sheet/prompt_participants:\r\n          label: Participants:\r\n          data:\r\n            automation:\r\n              uri: cerb:automation:cerb.data.records\r\n              inputs:\r\n                record_type: address\r\n                query_required@text:\r\n                  ticket.id:{{inputs.ticket.id}}\r\n          limit: 10\r\n          schema:\r\n            layout:\r\n              style: table\r\n              headings@bool: no\r\n              paging@bool: yes\r\n              title_column: _label\r\n            columns:\r\n              selection/id:\r\n              card/_label:\r\n                params:\r\n                  image@bool: yes\r\n                  bold@bool: yes\r\n          toolbar:\r\n            interaction/add:\r\n              label: Add participants\r\n              uri: cerb:automation:cerb.ticket.participants.add\r\n              icon: circle-plus\r\n              inputs:\r\n                ticket: {{inputs.ticket.id}}\r\n            interaction/remove:\r\n              label@raw: Remove {{row_selections|length}} selected\r\n              uri: cerb:automation:cerb.ticket.participants.remove\r\n              icon: circle-remove\r\n              hidden@raw,bool:\r\n                {{row_selections is empty ? 'yes'}}\r\n              inputs:\r\n                ticket: {{inputs.ticket.id}}\r\n                participants@raw,key: row_selections\r\n              event/done:\r\n                clear_selections@bool: yes\r\n",
    "policy_kata": "",
    "created_at": 1599700704,
    "updated_at": 1617997049
}
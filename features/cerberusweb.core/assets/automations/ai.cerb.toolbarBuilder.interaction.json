{
    "name": "ai.cerb.toolbarBuilder.interaction",
    "description": "",
    "extension_id": "cerb.trigger.interaction.internal",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        say/heading:\r\n          content: ## Add Interaction\r\n        \r\n        text/prompt_label:\r\n          label: Label:\r\n          required@bool: yes\r\n          type: freeform\r\n        \r\n        sheet/prompt_interaction_id:\r\n          label: Interaction:\r\n          data:\r\n            automation:\r\n              uri: cerb:automation:cerb.data.records\r\n              inputs:\r\n                record_type: automation\r\n                query_required@text:\r\n                  trigger:cerb.trigger.interaction.worker\r\n          limit: 10\r\n          required@bool: yes\r\n          schema:\r\n            layout:\r\n              paging@bool: yes\r\n              headings@bool: no\r\n              filtering@bool: yes\r\n              title_column: _label\r\n            columns:\r\n              selection/id:\r\n                params:\r\n                  mode: single\r\n              text/_label:\r\n                params:\r\n                  bold@bool: yes\r\n              text/description:\r\n        \r\n        sheet/prompt_icon:\r\n          label: Icon:\r\n          data:\r\n            automation:\r\n              uri: cerb:automation:cerb.data.ui.icons\r\n          limit: 30\r\n          #default: menu-hamburger\r\n          schema:\r\n            layout:\r\n              style: grid\r\n              headings@bool: no\r\n              #paging@bool: no\r\n              filtering@bool: yes\r\n            columns:\r\n              selection/icon:\r\n                params:\r\n                  mode: single\r\n              text/preview:\r\n                params:\r\n                  value_template@raw:\r\n                    <span class=\"glyphicons glyphicons-{{icon}}\" style=\"font-size:150%;\"></span> {{icon}}\r\n  \r\n  set/load_automation:\r\n    interaction_data__context: automation\r\n    interaction_data_id@key: prompt_interaction_id\r\n  \r\n  return:\r\n    snippet@text:\r\n      interaction/{{random_string(6)|lower}}:\r\n        label: {{prompt_label}}\r\n        uri: cerb:automation:{{interaction_data_name}}\r\n        {% if prompt_icon -%}\r\n        icon: {{prompt_icon}}\r\n        {% endif -%}\r\n        #hidden@bool: {% verbatim %}{{row_selections ? 'no' : 'yes'}}{% endverbatim %}\r\n        #badge: 0\r\n        {% set inputs = interaction_data_inputs -%}\r\n        {% if inputs -%}\r\n        inputs:\r\n        {% for input in inputs %}\r\n        {{input.key}}:\r\n        {% endfor -%}\r\n        {% endif -%}\r\n        after:\r\n          #refresh_widgets@list: Actions\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1617997001
}